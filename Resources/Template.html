<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
	"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta name="Author" content="Gerd Knops" />
		<style type="text/css">
			body {
				background-color: white;
				background-attachment: fixed;
				font: 12px "Monaco", "Courier New", monospace;
				font-style: normal;
				font-weight: normal;
			}
			a {
			}
			a:hover {
				background-color: #dddddd;
			}
			span.SyslogError {
				color: Crimson;
			}
			span.SyslogWarning {
				color: Chocolate;
			}
			span.ApLoSearchHighlight {
			    background: LightGray;
			    border: 1px solid black;
			    -webkit-border-radius: 3px;
			}
			span.ApLoSearchSelected {
			    background: yellow;
			    border: 1px solid black;
			    -webkit-border-radius: 3px;
			}
		</style>
		<script type="text/javascript">
			
			var ApLoMatches=new Array();
			var ApLoSelectedMatch=-1;
			
			function ApLoHighlightString(searchString)
			{
			    ApLoRemoveHighlights();
			    ApLoAddHighlights(document.body,searchString.toLowerCase());
				
				// (document.body.style.display='none') 
				// (document.body.style.display='block').
				
				return ApLoMatches.length;
			}
			function ApLoRemoveHighlights()
			{
			    ApLoNumMatches=0;
				ApLoSelectMatch(-1);
			    ApLoRemoveHighlightsIn(document.body);
				ApLoMatches.length=0;
				
				// (document.body.style.display='none') 
				// (document.body.style.display='block').
			}
			function ApLoRemoveHighlightsIn(element)
			{
				if(element && element.nodeType==1)
				{
					if(element.getAttribute("class")=="ApLoSearchHighlight")
					{
						var text=element.removeChild(element.firstChild);
						element.parentNode.insertBefore(text,element);
						element.parentNode.removeChild(element);
						
						return true;
					}
					else
					{
						var normalize=false;
						for(var i=element.childNodes.length-1;i>=0;i--)
						{
							if(ApLoRemoveHighlightsIn(element.childNodes[i]))
							{
								normalize=true;
							}
						}
						if(normalize)
						{
							element.normalize();
						}
					}
				}
			}
			function ApLoAddHighlights(element,searchString)
			{
				if(!element) return false;
				if(element.nodeType==3)
				{
					// Text node
					while(true)
					{
						var value=element.nodeValue;
						var idx=value.toLowerCase().indexOf(searchString);
						
						if(idx<0) break;             
						
						var span=document.createElement("span");
						var text=document.createTextNode(value.substr(idx,searchString.length));
						span.appendChild(text);
						span.setAttribute("class","ApLoSearchHighlight");
						text=document.createTextNode(value.substr(idx+searchString.length));
						element.deleteData(idx,value.length-idx);
						var next=element.nextSibling;
						element.parentNode.insertBefore(span,next);
						element.parentNode.insertBefore(text,next);
						element=text;
						ApLoMatches.push(span);
						redraw(span);
						ApLoNumMatches++;
					}
				}
				else if(element.nodeType==1)
				{
					// Element node
					if(element.style.display!="none" && element.nodeName.toLowerCase()!='select')
					{
						for(var i=element.childNodes.length-1;i>=0;i--)
						{
							ApLoAddHighlights(element.childNodes[i],searchString);
						}
					}
				}
			}
			function ApLoFindNext()
			{
				if(ApLoMatches.length==0) return;
				
				var idx=ApLoSelectedMatch-1;
				
				if(idx<0) idx=ApLoMatches.length-1;
				
				ApLoSelectMatch(idx);
			}
			function ApLoFindPrevious()
			{
				if(ApLoMatches.length==0) return;
				
				var idx=ApLoSelectedMatch+1;
				if(idx>=ApLoMatches.length) idx=0;
				
				ApLoSelectMatch(idx);
			}
			function ApLoSelectMatch(idx)
			{
				if(ApLoSelectedMatch>=0)
				{
					ApLoMatches[ApLoSelectedMatch].setAttribute("class","ApLoSearchHighlight");
				}
				
				if(idx>=0)
				{
					ApLoMatches[idx].setAttribute("class","ApLoSearchSelected");
					ApLoMatches[idx].scrollIntoView(true);
				}
				
				ApLoSelectedMatch=idx;
			}
			function redraw(element)
			{
				// element.style.display=”none”;
				// var redrawFix=element.offsetHeight;
				// element.style.display=”block”;
			}
		</script>
	</head>
	<body>
		<div class="document">
			The quick brown fox...  <a href="http://www.bitart.com/">www.bitart.com</a>
		</div>
	</body>
</html>
